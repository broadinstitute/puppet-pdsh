# Reference

<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

### Classes

* [`pdsh`](#pdsh): Installs and configures the pdsh tool
* [`pdsh::puppet`](#pdshpuppet): Set up PuppetDB-based pdsh groups

### Defined types

* [`pdsh::puppet_group`](#pdshpuppet_group): Create a group of hosts using the `pdsh_group.rb` script

## Classes

### <a name="pdsh"></a>`pdsh`

Installs and configures the pdsh tool

#### Parameters

The following parameters are available in the `pdsh` class:

* [`config_dir`](#config_dir)
* [`group_dir`](#group_dir)

##### <a name="config_dir"></a>`config_dir`

Data type: `Stdlib::Absolutepath`

Stdlib::Absolutepath The configuration directory for pdsh.
(default: `/etc/dsh`).

##### <a name="group_dir"></a>`group_dir`

Data type: `Stdlib::Absolutepath`

Stdlib::Absolutepath The directory where group files for pdsh will be written.
(default: `/etc/dsh/group`).

### <a name="pdshpuppet"></a>`pdsh::puppet`

Set up PuppetDB-based pdsh groups

#### Examples

#####

```puppet
class { 'pdsh::puppet'
  $queries => {
    rhel6 => {
      ensure => 'present',
      query  => '["and",["=",["fact","operatingsystem"],"RedHat"],["=",["fact","operatingsystemmajrelease"],"6"]]'
    }
    rhel7 => {
      ensure => 'absent',
      query  => '["and",["=",["fact","operatingsystem"],"RedHat"],["=",["fact","operatingsystemmajrelease"],"7"]]'
    }
  }
}
```

#### Parameters

The following parameters are available in the `pdsh::puppet` class:

* [`puppetdb`](#puppetdb)
* [`queries`](#queries)

##### <a name="puppetdb"></a>`puppetdb`

Data type: `String`

String The hostname of the PuppetDB server to use.

##### <a name="queries"></a>`queries`

Data type: `Hash`

Hash of queries to be used in creating pdsh::puppet_group resources.

Default value: `{}`

## Defined types

### <a name="pdshpuppet_group"></a>`pdsh::puppet_group`

Create a group of hosts using the `pdsh_group.rb` script

#### Examples

#####

```puppet
pdsh::puppet_group {'rhel6':
  ensure => 'present',
  query  => '["and",["=",["fact","operatingsystem"],"RedHat"],["=",["fact","operatingsystemmajrelease"],"6"]]'
}
```

#### Parameters

The following parameters are available in the `pdsh::puppet_group` defined type:

* [`query`](#query)
* [`ensure`](#ensure)

##### <a name="query"></a>`query`

Data type: `String`

String The query to pass to the `pdsh_group.rb` script to be used in querying PuppetDB.

##### <a name="ensure"></a>`ensure`

Data type: `Enum['absent', 'present']`

Whether this group should be present or absent.
(default: 'present')

Default value: `'present'`
